# MVP Telegram-ะฐะดะผะธะฝ-ะฑะพั ะดะปั ัะบะพะปั ัะฐะฝัะตะฒ
ะะตััะธั: 2026-02-01 (rev2: **ะพัััะพัะบะฐ** + **owner/ะฐะดะผะธะฝั**)

ะะพะบัะผะตะฝั ะพะฟะธััะฒะฐะตั **ะฟะพะฒะตะดะตะฝะธะต ะฐะดะผะธะฝะบะธ** (Telegram-ะฑะพั) ะดะปั MVP.
ะกัะตะผะฐ ะะ: `dance_school_db_schema_rev4.md`.

---

## 0) ะะปะฐะฒะฝัะต ะฟัะฐะฒะธะปะฐ MVP

- ะะฐะฝะฐะป: **ัะพะปัะบะพ Telegram**
- ะขะธะฟั ะฟะพัะตัะตะฝะธะน: **2** (ะผะตัััะฝัะน/ัะฐะทะพะฒัะน)
- ะะตัััะฝัะน ะฐะฑะพะฝะตะผะตะฝั: **1 ะณััะฟะฟะฐ**, **ะฑะตะท ะปะธะผะธัะฐ ะทะฐะฝััะธะน**, **ะฟะพ ะดะฐัะฐะผ**, **ะบะฐะปะตะฝะดะฐัะฝัะน ะผะตััั**
- ะะฟะปะฐัั: `cash / transfer / qr / ะพัััะพัะบะฐ`
- ะะฐะผะพัะพะทะบะธ ะฝะตั
- ะัะฑะปะธะบะฐัั ะบะปะธะตะฝัะพะฒ ะฟะพ ัะตะปะตัะพะฝั ะทะฐะฟัะตัะตะฝั
- ะััััั: โัะฐะทะพะฒัะต ะฑะตะท ะพะฟะปะฐััโ + **ะพัััะพัะบะธ**
- ะะพะปะธ: **owner** (ะดะธัะตะบัะพั) + **admin**; owner ัะฟัะฐะฒะปัะตั ะฐะดะผะธะฝะฐะผะธ ัะตัะตะท ๐

---

## 1) ะะปะฐะฒะฝะพะต ะผะตะฝั

**ะะฝะพะฟะบะธ (ะฒะธะดัั admin):**
1) โ ะะพะฒัะน ะบะปะธะตะฝั  
2) ๐ ะะฐะนัะธ ะบะปะธะตะฝัะฐ  
3) ๐ ะะฐะฟะธัะฐัั ะฝะฐ ะทะฐะฝััะธะต  
4) โ ะัะผะตัะธัั ะฟะพัะตัะตะฝะธะต  
5) ๐ณ ะัะธะฝััั ะพะฟะปะฐัั  
6) ๐ซ ะะฑะพะฝะตะผะตะฝั: ะฒัะดะฐัั/ะฟัะพะดะปะธัั  
7) ๐ธ ะะฐััะพะดั  
8) ๐ ะััะตัั  

**ะะพะฟ. ะบะฝะพะฟะบะฐ (ะฒะธะดะธั ัะพะปัะบะพ owner):**
9) ๐ ะะดะผะธะฝั

---

## 2) ๐ ะะดะผะธะฝั (ัะพะปัะบะพ owner)

ะะตะฝั:
- โ ะะพะฑะฐะฒะธัั ะฐะดะผะธะฝะฐ  
- โ๏ธ ะัะบะปััะธัั ะฐะดะผะธะฝะฐ  
- ๐ ะกะฟะธัะพะบ ะฐะดะผะธะฝะพะฒ  
- โฉ๏ธ ะะฐะทะฐะด

### โ ะะพะฑะฐะฒะธัั ะฐะดะผะธะฝะฐ
1) ะะฒะตััะธ `tg_user_id`  
2) ะะฒะตััะธ ะธะผั  
3) ะะพะดัะฒะตัะดะธัั  
ะะตะทัะปััะฐั: ะทะฐะฟะธัั/ะฐะฟะดะตะนั `admins(role='admin', is_active=1)`.

### โ๏ธ ะัะบะปััะธัั ะฐะดะผะธะฝะฐ
1) ะะพะบะฐะทะฐัั ัะฟะธัะพะบ ะฐะบัะธะฒะฝัั ะฐะดะผะธะฝะพะฒ (ะบัะพะผะต owner)  
2) ะัะฑัะฐัั ะฐะดะผะธะฝะฐ  
3) ะะพะดัะฒะตัะดะธัั  
ะะตะทัะปััะฐั: `is_active=0`.

### ๐ ะกะฟะธัะพะบ ะฐะดะผะธะฝะพะฒ
ะะพะบะฐะทัะฒะฐะตะผ:
- owner
- ะฐะบัะธะฒะฝัะต admins
- ะพัะบะปัััะฝะฝัะต admins (ะพะฟั.)

---

## 3) โ ะะพะฒัะน ะบะปะธะตะฝั
ะะพัะพะบ:
ะคะะ โ ะขะตะปะตัะพะฝ (ะฝะพัะผะฐะปะธะทะฐัะธั) โ ะฟัะพะฒะตัะบะฐ ะดัะฑะปั โ TG (ะฝะตะพะฑัะท.) โ ะะ (ะพะฟั.) โ ะะพะผะผะตะฝั (ะพะฟั.) โ ะััะฟะฟั (ะพะฟั.) โ ะัะพะณ/ะฟะพะดัะฒะตัะถะดะตะฝะธะต.

ะัะฐะฒะธะปะพ: ะดัะฑะปั ะะ ัะพะทะดะฐัะผ (ะฝะตั ะพะฟัะธะธ โัะพะทะดะฐัั ะดัะฑะปัโ).

---

## 4) ๐ ะะฐะนัะธ ะบะปะธะตะฝัะฐ
ะะพะธัะบ:
- ะฟะพ ัะตะปะตัะพะฝั (ัะพัะฝะพ, ะฟะพัะปะต ะฝะพัะผะฐะปะธะทะฐัะธะธ)
- ะฟะพ ัะฐััะธ ะธะผะตะฝะธ (`LIKE`)
- ะฟะพ `@username` (ัะพัะฝะพ)

ะะตะทัะปััะฐั: ะบะฐััะพัะบะฐ ะบะปะธะตะฝัะฐ + ะฑัััััะต ะดะตะนััะฒะธั: ๐ โ ๐ณ ๐ซ

---

## 5) ๐ ะะฐะฟะธัะฐัั ะฝะฐ ะทะฐะฝััะธะต
ะะปะธะตะฝั โ ะััะฟะฟะฐ โ ะขะธะฟ ะทะฐะฟะธัะธ:

### 5A) ะะพ ะผะตัััะฝะพะผั (ะฟะพััะพัะฝะฝะพ)
ะะฐะฟะธัั = ะทะฐะบัะตะฟะปะตะฝะธะต `client_groups(status='active')`.
ะะธะทะธัั ะฝะฐะฟะตััะด ะฝะต ัะพะทะดะฐัะผ.

### 5B) ะะฐะทะพะฒะพะต
ะะฐัะฐ (ะกะตะณะพะดะฝั/ะัะตัะฐ/ะัะฑัะฐัั) โ (ัะปะพั ะพะฟั.) โ `visits(status='booked')` โ (ะพะฟั.) ะฟะตัะตะนัะธ ะฒ ๐ณ ะพะฟะปะฐัั.

---

## 6) โ ะัะผะตัะธัั ะฟะพัะตัะตะฝะธะต
ะััะฟะฟะฐ โ ะะฐัะฐ โ (ัะปะพั ะพะฟั.) โ ัะฟะธัะพะบ = `client_groups active` + booked ัะฐะทะพะฒัะต (ะฑะตะท ะดัะฑะปะตะน) โ ะพัะผะตัะธัั ััะฐััั.

ะะตะนััะฒะธั:
- โ ะัะป โ attended
- โ ะะต ะฟัะธััะป โ noshow
- ๐ซ ะัะผะตะฝะฐ โ cancelled

ะะพัะปะต โโ ะัะปโ:
- ะฟัะพะฒะตััะตะผ ะฐะบัะธะฒะฝัะน pass, ะฟะพะบััะฒะฐััะธะน ะดะฐัั
- ะตัะปะธ ะฝะตั โ ะฟัะตะดัะฟัะตะถะดะตะฝะธะต + CTA: ๐ณ / ๐ซ

---

## 7) ๐ณ ะัะธะฝััั ะพะฟะปะฐัั

ะะตะถะธะผั ะฒัะพะดะฐ:
- ะะฑััะฝัะน (ะธะท ะผะตะฝั)
- ะัััััะน (ะธะท ะบะพะฝัะตะบััะฐ: ะฟะพัะปะต โ ะฟัะตะดัะฟัะตะถะดะตะฝะธั ะธะปะธ ะฟะพัะปะต ๐ ัะฐะทะพะฒะพะณะพ):
  โะกัะผะผะฐ?โ โ โะกะฟะพัะพะฑ?โ โ โะกะพััะฐะฝะธัั?โ

ะกะฟะพัะพะฑั:
1) ะฝะฐะปะธัะฝัะต  
2) ะฟะตัะตะฒะพะด  
3) QR  
4) **ะพัััะพัะบะฐ**

### ะัััะพัะบะฐ (defer)
ะัะปะธ ะฒัะฑัะฐะฝ ัะฟะพัะพะฑ โะัััะพัะบะฐโ:
- ะฑะพั ัะฟัะฐัะธะฒะฐะตั โะะพะณะดะฐ ะพะฟะปะฐััั?โ (ะกะตะณะพะดะฝั/ะะฐะฒััะฐ/ะัะฑัะฐัั ะดะฐัั) โ `due_date` (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะฝะพ ัะตะบะพะผะตะฝะดัะตััั)
- ัะพััะฐะฝัะตั ะฟะปะฐัะตะถ ะบะฐะบ `method='defer'`, `status='deferred'`
- ะะ ะฒะบะปััะฐะตะผ ะฒ ะฒััััะบั/ะฟัะธะฑัะปั ะดะพ ะทะฐะบัััะธั

### ะะฐะบัััั ะพัััะพัะบั (ะดะตะนััะฒะธะต ะฒ ๐ณ)
ะะพะฑะฐะฒะธัั ะดะตะนััะฒะธะต: **ยซะะฐะบัััั ะพัััะพัะบัยป**:
1) ะฒัะฑัะฐัั ะบะปะธะตะฝัะฐ
2) ะฟะพะบะฐะทะฐัั ัะฟะธัะพะบ ะตะณะพ ะพัะบััััั ะพัััะพัะตะบ
3) ะฒัะฑัะฐัั ะพะดะฝั
4) ะฒัะฑัะฐัั ัะฐะบัะธัะตัะบะธะน ะผะตัะพะด (cash/transfer/qr)
5) ะฟะพะดัะฒะตัะดะธัั:
   - `status='paid'`
   - `method=cash|transfer|qr`
   - `pay_date = today` (ะธะปะธ ะฒัะฑัะฐะฝะฝะฐั ะดะฐัะฐ ัะฐะบัะธัะตัะบะพะน ะพะฟะปะฐัั)

---

## 8) ๐ซ ะะฑะพะฝะตะผะตะฝั: ะฒัะดะฐัั/ะฟัะพะดะปะธัั
ะะปะธะตะฝั โ ะััะฟะฟะฐ โ (ะตัะปะธ ะฝะตั client_groups โ ัะพะทะดะฐัั/ะฐะบัะธะฒะธัะพะฒะฐัั) โ ะะตัะธะพะด (ะญัะพั/ะกะปะตะดัััะธะน/ะัะฑัะฐัั) โ โะะฟะปะฐัะฐ ัะตะนัะฐั?โ โ (ะผะตัะพะด ะผะพะถะตั ะฑััั ะพัััะพัะบะฐ) โ ะะพะดัะฒะตัะถะดะตะฝะธะต.

---

## 9) ๐ธ ะะฐััะพะดั
ะะตะฝั:
- โ ะะพะฑะฐะฒะธัั ัะฐััะพะด
- ๐ ะกะฟะธัะพะบ ัะฐััะพะดะพะฒ
- ๐ ะะฐัะตะณะพัะธะธ ัะฐััะพะดะพะฒ

ะะฐัะตะณะพัะธะธ:
- โ ะดะพะฑะฐะฒะธัั / โ๏ธ ะฟะตัะตะธะผะตะฝะพะฒะฐัั / โ๏ธ ัะบัััั / ๐ ะฟะพะบะฐะทะฐัั ัะบััััะต โ โ ะฒะตัะฝััั

ะะพะฑะฐะฒะธัั ัะฐััะพะด:
ะะฐัะฐ โ ะะฐัะตะณะพัะธั(ัะพะปัะบะพ ะฐะบัะธะฒะฝัะต) โ ะกัะผะผะฐ โ ะะตัะพะด(cash/transfer/qr) โ ะะพะผะผะตะฝั(ะพะฟั.) โ ะะพะดัะฒะตัะถะดะตะฝะธะต.

---

## 10) ๐ ะััััั
- ๐ฐ ะััััะบะฐ (ัะพะปัะบะพ paid) + ะฟะพ ัะฟะพัะพะฑะฐะผ (+ ะพะฟั. ะฟะพ ะณััะฟะฟะฐะผ)
- ๐ธ ะะฐััะพะดั (ะฟะพ ะบะฐัะตะณะพัะธัะผ)
- ๐ ะัะธะฑัะปั
- ๐ฃ ะะพัะตัะฐะตะผะพััั + โะบัะพ ะฑัะป ัะตะณะพะดะฝัโ
- ๐ซ ะะฑะพะฝะตะผะตะฝัั (ะฐะบัะธะฒะฝัะต/ะทะฐะบะฐะฝัะธะฒะฐัััั/ะฑะตะท ะฐะบัะธะฒะฝะพะณะพ ะฝะฐ ะดะฐัั)
- ๐ ะะฐะทะพะฒัะต + โัะฐะทะพะฒัะต ะฑะตะท ะพะฟะปะฐััโ
- ๐ ะัััะพัะบะธ (ะพัะบััััะต)
- โฐ ะัะพััะพัะตะฝะฝัะต ะพัััะพัะบะธ
- ๐ค Excel ownerโั (ะฟะพ ะทะฐะฟัะพัั; ะฟะตัะธะพะด ะฟะพ ัะผะพะปัะฐะฝะธั โะญัะพั ะผะตัััโ)
